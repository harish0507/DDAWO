(function(){var q;try{q=angular.module("angularUtils.directives.dirPagination")}catch(a){q=angular.module("angularUtils.directives.dirPagination",[])}q.directive("dirPaginate",["$compile","$parse","paginationService",function(a,f,b){function e(a,c){var d=!!a.match(/(\|\s*itemsPerPage\s*:[^|]*:[^|]*)/);return"__default"===c||d?a:a.replace(/(\|\s*itemsPerPage\s*:[^|]*)/,"$1 : '"+c+"'")}function c(a,c,d){a[0].hasAttribute("dir-paginate-start")||a[0].hasAttribute("data-dir-paginate-start")?(c.$set("ngRepeatStart",
d),a.eq(a.length-1).attr("ng-repeat-end",!0)):c.$set("ngRepeat",d)}function m(a){angular.forEach(a,function(a){1===a.nodeType&&angular.element(a).attr("dir-paginate-no-compile",!0)})}function n(a){angular.forEach(a,function(a){1===a.nodeType&&angular.element(a).removeAttr("dir-paginate-no-compile")});a.eq(0).removeAttr("dir-paginate-start").removeAttr("dir-paginate").removeAttr("data-dir-paginate-start").removeAttr("data-dir-paginate");a.eq(a.length-1).removeAttr("dir-paginate-end").removeAttr("data-dir-paginate-end")}
function p(a,c,d){c.currentPage?a=f(c.currentPage):(c=d+"__currentPage",a[c]=1,a=f(c));return a}return{terminal:!0,multiElement:!0,compile:function(k,l){var d=l.dirPaginate,g=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),h=/\|\s*itemsPerPage\s*:[^|\)]*/;if(null===g[2].match(h))throw"pagination directive: the 'itemsPerPage' filter must be set.";var g=g[2].replace(h,""),r=f(g);m(k);b.registerInstance(l.paginationId||"__default");return function(h,m,g){var k=f(g.paginationId)(h)||
g.paginationId||"__default";b.registerInstance(k);var l=e(d,k);c(m,g,l);n(m);m=a(m);l=p(h,g,k);b.setCurrentPageParser(k,l,h);"undefined"!==typeof g.totalItems?(b.setAsyncModeTrue(k),h.$watch(function(){return f(g.totalItems)(h)},function(a){0<=a&&b.setCollectionLength(k,a)})):h.$watchCollection(function(){return r(h)},function(a){a&&b.setCollectionLength(k,a.length)});m(h)}}}}]).directive("dirPaginateNoCompile",function(){return{priority:5E3,terminal:!0}}).directive("dirPaginationControls",["paginationService",
"paginationTemplate",function(a,f){function b(a,b,e,f){var k=[];b=Math.ceil(b/e);e=Math.ceil(f/2);e=a<=e?"start":b-e<a?"end":"middle";for(var l=f<b,d=1;d<=b&&d<=f;){var g;g=Math.ceil(f/2);g=d===f?b:1===d?d:f<b?b-g<a?b-f+d:g<a?a-g+d:d:d;var h=2===d&&("middle"===e||"end"===e),r=d===f-1&&("middle"===e||"start"===e);l&&(h||r)?k.push("..."):k.push(g);d++}return k}var e=/^\d+$/;return{restrict:"AE",templateUrl:function(a,b){return b.templateUrl||f.getPath()},scope:{maxSize:"=?",onPageChange:"&?",paginationId:"=?",
autoHide:"=?"},link:function(c,f,n){function p(h){if(a.isRegistered(d)&&l(h)&&(c.pages=b(h,a.getCollectionLength(d),a.getItemsPerPage(d),g),c.pagination.current=h,k(),c.onPageChange))c.onPageChange({newPageNumber:h})}function k(){if(a.isRegistered(d)){var b=a.getCurrentPage(d),e=a.getItemsPerPage(d),f=a.getCollectionLength(d);c.range.lower=(b-1)*e+1;c.range.upper=Math.min(b*e,f);c.range.total=f}}function l(a){return e.test(a)&&0<a&&a<=c.pagination.last}f=n.paginationId||"__default";var d=c.paginationId||
n.paginationId||"__default";a.isRegistered(d)||a.isRegistered(f)||console.warn("Pagination directive: the pagination controls"+("__default"!==d?" (id: "+d+") ":" ")+"cannot be used without the corresponding pagination directive, which was not found at link time.");c.maxSize||(c.maxSize=9);c.autoHide=void 0===c.autoHide?!0:c.autoHide;c.directionLinks=angular.isDefined(n.directionLinks)?c.$parent.$eval(n.directionLinks):!0;c.boundaryLinks=angular.isDefined(n.boundaryLinks)?c.$parent.$eval(n.boundaryLinks):
!1;var g=Math.max(c.maxSize,5);c.pages=[];c.pagination={last:1,current:1};c.range={lower:1,upper:1,total:1};c.$watch(function(){if(a.isRegistered(d))return(a.getCollectionLength(d)+1)*a.getItemsPerPage(d)},function(e){0<e&&a.isRegistered(d)&&(e=parseInt(a.getCurrentPage(d))||1,c.pages=b(e,a.getCollectionLength(d),a.getItemsPerPage(d),g),c.pagination.current=e,c.pagination.last=c.pages[c.pages.length-1],c.pagination.last<c.pagination.current?c.setCurrent(c.pagination.last):k())});c.$watch(function(){if(a.isRegistered(d))return a.getItemsPerPage(d)},
function(a,b){a!=b&&"undefined"!==typeof b&&p(c.pagination.current)});c.$watch(function(){if(a.isRegistered(d))return a.getCurrentPage(d)},function(a,b){a!=b&&p(a)});c.setCurrent=function(b){a.isRegistered(d)&&l(b)&&(b=parseInt(b,10),a.setCurrentPage(d,b))};c.tracker=function(a,b){return a+"_"+b}}}}]).filter("itemsPerPage",["paginationService",function(a){return function(f,b,e){"undefined"===typeof e&&(e="__default");if(!a.isRegistered(e))throw"pagination directive: the itemsPerPage id argument (id: "+
e+") does not match a registered pagination-id.";var c,m;return f instanceof Array?(b=parseInt(b)||9999999999,m=a.isAsyncMode(e)?0:(a.getCurrentPage(e)-1)*b,c=m+b,a.setItemsPerPage(e,b),f.slice(m,c)):f}}]).service("paginationService",function(){var a={},f;this.registerInstance=function(b){"undefined"===typeof a[b]&&(a[b]={asyncMode:!1},f=b)};this.isRegistered=function(b){return"undefined"!==typeof a[b]};this.getLastInstanceId=function(){return f};this.setCurrentPageParser=function(b,e,c){a[b].currentPageParser=
e;a[b].context=c};this.setCurrentPage=function(b,e){a[b].currentPageParser.assign(a[b].context,e)};this.getCurrentPage=function(b){var e=a[b].currentPageParser;return e?e(a[b].context):1};this.setItemsPerPage=function(b,e){a[b].itemsPerPage=e};this.getItemsPerPage=function(b){return a[b].itemsPerPage};this.setCollectionLength=function(b,e){a[b].collectionLength=e};this.getCollectionLength=function(b){return a[b].collectionLength};this.setAsyncModeTrue=function(b){a[b].asyncMode=!0};this.isAsyncMode=
function(b){return a[b].asyncMode}}).provider("paginationTemplate",function(){var a="angularUtils.directives.dirPagination.template";this.setPath=function(f){a=f};this.$get=function(){return{getPath:function(){return a}}}}).run(["$templateCache",function(a){a.put("angularUtils.directives.dirPagination.template",'<ul class="pagination" ng-if="1 < pages.length || !autoHide"><li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(1)">&laquo;</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(pagination.current - 1)">&lsaquo;</a></li><li ng-repeat="pageNumber in pages track by tracker(pageNumber, $index)" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' || ( ! autoHide && pages.length === 1 ) }"><a href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.current + 1)">&rsaquo;</a></li><li ng-if="boundaryLinks"  ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.last)">&raquo;</a></li></ul>')}])})();