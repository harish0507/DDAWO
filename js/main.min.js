var app=angular.module("ddawoApp",["ngSanitize","ngCsv","angularUtils.directives.dirPagination"]);
app.controller("ddawoCtrl",["$scope","$http",function(a,c){var d=jQuery("#percent-text");jQuery("#form-menu").addClass("active");d.hide();a.listFlag=!0;a.viewFlag=!0;a.formFlag=!1;jQuery("#disability-percent").on("mouseenter change",function(){jQuery("#percent").html(jQuery(this).val());d.show("2000").hide("2000")});jQuery("#print").on("click",function(){print()});a.getAge=function(){var b=new Date,e=new Date(a.dob),c=b.getFullYear()-e.getFullYear(),d=b.getMonth()-e.getMonth();(0>d||0===d&&b.getDate()<
e.getDate())&&c--;a.age=c};a.getHeader=function(){return"National ID Card No;Name;Date Of Birth;Age;Community;Father Name;Mother Name;Guardian Name;Address;Taluk Name;Pincode;Mobile No;Voter ID;Aadhar No;Ration Card No;Type Of Disability;Disability %;Social Security Welfare ID;Bank Name;Branch Name;Account No;MICR No;IFSC No;Guardianship Certificate No;Guardianship Certificate Date;Status;Person Photo".split(";")};a.print=function(){var a=jQuery("#userData");newWin=window.open("");newWin.document.write(a.outerHTML);
newWin.print();newWin.close()};a.form=function(){jQuery("#list-menu,#view-menu").removeClass("active");jQuery("#form-menu").addClass("active");a.listFlag=!0;a.viewFlag=!0;a.formFlag=!1};a.list=function(){jQuery("#form-menu,#view-menu").removeClass("active");jQuery("#list-menu").addClass("active");a.formFlag=!0;a.viewFlag=!0;a.filterID="";c({method:"GET",url:"script/get_users.php"}).then(function(b){0!=b.data.length&&(a.users=b.data)},function(a){console.log("Failed to get data!")});a.listFlag=!1};
a.view=function(){a.userID="";a.noUserFlag=!1;a.userInfoFlag=!1;jQuery("#form-menu,#list-menu").removeClass("active");jQuery("#view-menu").addClass("active");a.formFlag=!0;a.listFlag=!0;a.viewFlag=!1};a.getUserInfo=function(){void 0!==a.userID&&c({method:"POST",url:"script/get_user.php",data:{id:a.userID}}).then(function(b){0!=b.data.length?(a.user=b.data,a.userInfoFlag=!0,a.noUserFlag=!1):(a.userInfoFlag=!1,a.noUserFlag=!0)},function(a){console.log("Failed to get data!")})}}]);